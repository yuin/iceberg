<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API &#8212; iceberg 0.9.14 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css?v=fce32b03" />
    <script src="_static/documentation_options.js?v=d0ba2447"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Plugins" href="plugin.html" />
    <link rel="prev" title="Tips" href="tips.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>iceberg 0.9.14 documentation</span></a></h1>
        <h2 class="heading"><span>API</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="Top">
      
        <p>
        «&#160;&#160;<a href="tips.html">Tips</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="plugin.html">Plugins</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="api">
<h1>API<a class="headerlink" href="#api" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>iceberg uses <a class="reference external" href="http://www.lua.org">Lua</a> as a configuration and an extension language. Users can extend the functionality by using lua scripts. <code class="docutils literal notranslate"><span class="pre">icebergsupport</span></code> package has many APIs for extending iceberg.</p>
</section>
<section id="charcter-encodings">
<h2>Charcter encodings<a class="headerlink" href="#charcter-encodings" title="Link to this heading">¶</a></h2>
<p>iceberg uses UTF-8 as an internal encoding, so most APIs accept and return UTF-8 encoded strings. However, <a class="reference internal" href="#icebergsupport.command_output" title="icebergsupport.command_output"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.command_output()</span></code></a> returns a string output by the command without any character encoding conversion.</p>
<p><a class="reference external" href="http://www.lua.org">Lua</a> does not have multibyte aware string APIs. If you want to correctly iterate over actual characters in a UTF-8 encoded string, you have to use regular expression APIs in the <cite>icebergsupport</cite> package.</p>
</section>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading">¶</a></h2>
<dl class="lua attribute">
<dt class="sig sig-object lua" id="icebergsupport.EVENT_STATE_">
<span class="sig-name descname"><span class="pre">icebergsupport.EVENT_STATE_</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#icebergsupport.EVENT_STATE_" title="Link to this definition">¶</a></dt>
<dd><p>Constants used for <a class="reference internal" href="#icebergsupport.matches_key" title="icebergsupport.matches_key"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.matches_key()</span></code></a> etc. Please refer to <a class="reference internal" href="#icebergsupport.matches_key" title="icebergsupport.matches_key"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.matches_key()</span></code></a> for further information.</p>
</dd></dl>

<dl class="lua attribute">
<dt class="sig sig-object lua" id="icebergsupport.COMP_">
<span class="sig-name descname"><span class="pre">icebergsupport.COMP_</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#icebergsupport.COMP_" title="Link to this definition">¶</a></dt>
<dd><p>Constants mean completion methods.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">COMP_BEGINSWITH</span></code> : prefix match</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMP_PARTIAL</span></code> : partial match</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMP_ABBR</span></code> : fuzzy match</p></li>
</ul>
</dd></dl>

</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<section id="paths">
<h3>Paths<a class="headerlink" href="#paths" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.dirname">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">dirname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.dirname" title="Link to this definition">¶</a></dt>
<dd><p>Returns the directory name of the pathname <code class="docutils literal notranslate"><span class="pre">path</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.basename">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">basename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.basename" title="Link to this definition">¶</a></dt>
<dd><p>Returns the base name of pathname <code class="docutils literal notranslate"><span class="pre">path</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.directory_exists">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">directory_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.directory_exists" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">path</span></code> refers to an existing directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.file_exists">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">file_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.file_exists" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">path</span></code> refers to an existing file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.path_exists">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">path_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.path_exists" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">path</span></code> refers to an existing file or directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.join_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">join_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pathparts</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">pathparts</span></em>, <em class="sig-param"><span class="pre">pathparts</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.join_path" title="Link to this definition">¶</a></dt>
<dd><p>Joins one or more path components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathparts</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – a path component</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.list_dir">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">list_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.list_dir" title="Link to this definition">¶</a></dt>
<dd><p>Returns a list containing the names of the entries in the directory given by <code class="docutils literal notranslate"><span class="pre">path</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the directory path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise, table or string:a table contains names if no errors, an error message otherwise]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.quote_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">quote_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.quote_path" title="Link to this definition">¶</a></dt>
<dd><p>Searches a <code class="docutils literal notranslate"><span class="pre">path</span></code> for spaces. If spaces are found, the entire path is enclosed in <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string: a quoted path if spaces found, given path otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.unquote_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">unquote_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.unquote_path" title="Link to this definition">¶</a></dt>
<dd><p>Removes <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> at beginning or the end of <code class="docutils literal notranslate"><span class="pre">path</span></code> if <code class="docutils literal notranslate"><span class="pre">path</span></code> is enclosed in <code class="docutils literal notranslate"><span class="pre">&quot;</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string: an unquote path if enclosed in <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, given path otherwise</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="bitwise-operations">
<h3>Bitwise operations<a class="headerlink" href="#bitwise-operations" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.band">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">band</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">number</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">number</span></em>, <em class="sig-param"><span class="pre">number</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.band" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise and of <code class="docutils literal notranslate"><span class="pre">numbers</span></code> . <code class="docutils literal notranslate"><span class="pre">numbers</span></code> are interpreted as a <code class="docutils literal notranslate"><span class="pre">lua_Integer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">[number]</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.bor">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">bor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">number</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">number</span></em>, <em class="sig-param"><span class="pre">number</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.bor" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise and of <code class="docutils literal notranslate"><span class="pre">numbers</span></code> . <code class="docutils literal notranslate"><span class="pre">numbers</span></code> are interpreted as a <code class="docutils literal notranslate"><span class="pre">lua_Integer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">[number]</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.bxor">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">bxor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">number</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">number</span></em>, <em class="sig-param"><span class="pre">number</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.bxor" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise exclusive or of <code class="docutils literal notranslate"><span class="pre">numbers</span></code> . <code class="docutils literal notranslate"><span class="pre">numbers</span></code> are interpreted as a <code class="docutils literal notranslate"><span class="pre">lua_Integer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>number</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">[number]</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.brshift">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">brshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">number</span></em>, <em class="sig-param"><span class="pre">disp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.brshift" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number <code class="docutils literal notranslate"><span class="pre">number</span></code> shifted <code class="docutils literal notranslate"><span class="pre">disp</span></code> bits to the right. <code class="docutils literal notranslate"><span class="pre">number</span></code> and <code class="docutils literal notranslate"><span class="pre">disp</span></code> are interpreted as a <code class="docutils literal notranslate"><span class="pre">lua_Integer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p></li>
<li><p><strong>disp</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.blshift">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">blshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">number</span></em>, <em class="sig-param"><span class="pre">disp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.blshift" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number <code class="docutils literal notranslate"><span class="pre">number</span></code> shifted <code class="docutils literal notranslate"><span class="pre">disp</span></code> bits to the left. <code class="docutils literal notranslate"><span class="pre">number</span></code> and <code class="docutils literal notranslate"><span class="pre">disp</span></code> are interpreted as a <code class="docutils literal notranslate"><span class="pre">lua_Integer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p></li>
<li><p><strong>disp</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="system-information">
<h3>System information<a class="headerlink" href="#system-information" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.build_platform">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">build_platform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.build_platform" title="Link to this definition">¶</a></dt>
<dd><p>Returns the platform where iceberg was compiled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string: a string such as <code class="docutils literal notranslate"><span class="pre">win_64</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.runtime_platform">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">runtime_platform</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.runtime_platform" title="Link to this definition">¶</a></dt>
<dd><p>Returns the platform where iceberg are currently running.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string: a string such as <code class="docutils literal notranslate"><span class="pre">6.1.7601</span> <span class="pre">x64</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="sub-processes">
<h3>Sub processes<a class="headerlink" href="#sub-processes" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.shell_execute">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">shell_execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">args</span></em>, <em class="sig-param"><span class="pre">workdir</span></em>, <em class="sig-param"><span class="pre">sudo</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.shell_execute" title="Link to this definition">¶</a></dt>
<dd><p>Runs the sub process. If path is not a executable file, path will be opened by an application associated with its extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the file path</p></li>
<li><p><strong>args</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">[string]</span></code></span>) – arguments for the command</p></li>
<li><p><strong>workdir</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – a working directory. This defaults to the current directory.</p></li>
</ul>
</dd>
</dl>
<p>:param bool sudo : If sudo is true, the sub process will be run as an administrator user.
:returns: [bool:true if no errors, false otherwise, string:an error message]</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.command_output">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">command_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">command</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.command_output" title="Link to this definition">¶</a></dt>
<dd><p>Runs the sub process and returns contents of stdout and stderr .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>command</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise, string:stdout, string:stderr]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="charcter-sets">
<h3>Charcter sets<a class="headerlink" href="#charcter-sets" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.utf82local">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">utf82local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.utf82local" title="Link to this definition">¶</a></dt>
<dd><p>Converts <code class="docutils literal notranslate"><span class="pre">text</span></code> from utf-8 to the local encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.local2utf8">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">local2utf8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.local2utf8" title="Link to this definition">¶</a></dt>
<dd><p>Converts <code class="docutils literal notranslate"><span class="pre">text</span></code> from the local encoding to utf-8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.crlf2lf">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">crlf2lf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.crlf2lf" title="Link to this definition">¶</a></dt>
<dd><p>Converts newline characters in <code class="docutils literal notranslate"><span class="pre">text</span></code> from <code class="docutils literal notranslate"><span class="pre">crlf</span></code> to <code class="docutils literal notranslate"><span class="pre">lf</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="regular-expressions">
<h3>Regular expressions<a class="headerlink" href="#regular-expressions" title="Link to this heading">¶</a></h3>
<p>UTF-8 aware regular expression APIs.  Flags are a bitwise or of <a class="reference internal" href="#Regex.S" title="Regex.S"><code class="xref lua lua-attr docutils literal notranslate"><span class="pre">Regex.S</span></code></a> , <a class="reference internal" href="#Regex.I" title="Regex.I"><code class="xref lua lua-attr docutils literal notranslate"><span class="pre">Regex.I</span></code></a> and so on. ( <a class="reference internal" href="#icebergsupport.bor" title="icebergsupport.bor"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.bor()</span></code></a> can be used for bitwise operations). You must pass <a class="reference internal" href="#Regex.NONE" title="Regex.NONE"><code class="xref lua lua-attr docutils literal notranslate"><span class="pre">Regex.NONE</span></code></a> if no flags.</p>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.regex_match">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">regex_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pattern</span></em>, <em class="sig-param"><span class="pre">flags</span></em>, <em class="sig-param"><span class="pre">string</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">startpos</span></em>, <em class="sig-param"><span class="pre">endpos</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.regex_match" title="Link to this definition">¶</a></dt>
<dd><p>Searches for <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">string</span></code> . (completely matching)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the regular expression</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the flags for searching</p></li>
<li><p><strong>string</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the  string to be searched</p></li>
<li><p><strong>startpos</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – a starting byte position for searching</p></li>
<li><p><strong>endpos</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – an ending byte position for searching</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if found, false otherwise, Regex:Regex object]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.regex_search">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">regex_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pattern</span></em>, <em class="sig-param"><span class="pre">flags</span></em>, <em class="sig-param"><span class="pre">string</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">startpos</span></em>, <em class="sig-param"><span class="pre">endpos</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.regex_search" title="Link to this definition">¶</a></dt>
<dd><p>Searches for <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">string</span></code> . (partial matching)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the regular expression</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the flags for searching</p></li>
<li><p><strong>string</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the  string to be searched</p></li>
<li><p><strong>startpos</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – a starting byte position for searching</p></li>
<li><p><strong>endpos</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – an ending byte position for searching</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if found, false otherwise, Regex:Regex object]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.regex_split">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">regex_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pattern</span></em>, <em class="sig-param"><span class="pre">flags</span></em>, <em class="sig-param"><span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.regex_split" title="Link to this definition">¶</a></dt>
<dd><p>Splits <code class="docutils literal notranslate"><span class="pre">string</span></code> by the occurrences of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the regular expression</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the flags for searching</p></li>
<li><p><strong>string</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the string to be splitted</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[string]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.regex_gsub">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">regex_gsub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pattern</span></em>, <em class="sig-param"><span class="pre">flags</span></em>, <em class="sig-param"><span class="pre">string</span></em>, <em class="sig-param"><span class="pre">repl</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.regex_gsub" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Returns the string obtained by replacing the leftmost non-overlapping occurrences of pattern in <code class="docutils literal notranslate"><span class="pre">string</span></code> by the replacement <code class="docutils literal notranslate"><span class="pre">repl</span></code>. Backreferences, such as <code class="docutils literal notranslate"><span class="pre">%1</span></code>, <code class="docutils literal notranslate"><span class="pre">%2</span></code>, can be used in <code class="docutils literal notranslate"><span class="pre">repl</span></code> . Examples:</p>
</div></blockquote>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="nv">icebergsupport</span><span class="p">.</span><span class="nf">regex_gsub</span><span class="p">(</span><span class="s2">&quot;ABC([A-Z]+)&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">Regex</span><span class="p">.</span><span class="py">NONE</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ABCDEFG&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;REPLACED&quot;</span><span class="p">)</span>

<span class="o">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">&quot;REPLACED&quot;</span>

<span class="nv">icebergsupport</span><span class="p">.</span><span class="nf">regex_gsub</span><span class="p">(</span><span class="s2">&quot;ABC([A-Z]+)&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">Regex</span><span class="p">.</span><span class="py">NONE</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ABCDEFG&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">re</span><span class="p">)</span>
<span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">re</span><span class="p">:</span><span class="nf">_1</span><span class="p">()</span>
<span class="kr">end</span><span class="p">))</span>

<span class="o">#</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">&quot;DEFG&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the regular expression</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the flags for searching</p></li>
<li><p><strong>string</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the string to be replaced</p></li>
<li><p><strong>repl</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">callback</span></code></span>) – the callback function or a string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="completions-and-options">
<h3>Completions and Options<a class="headerlink" href="#completions-and-options" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.getopts">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">getopts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">args</span></em>, <em class="sig-param"><span class="pre">option</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">option</span></em>, <em class="sig-param"><span class="pre">option</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.getopts" title="Link to this definition">¶</a></dt>
<dd><p>Parses options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>) – the list of arguments, such as <code class="docutils literal notranslate"><span class="pre">{&quot;-a&quot;,</span> <span class="pre">&quot;-b&quot;,</span> <span class="pre">&quot;action&quot;}</span></code></p></li>
<li><p><strong>option</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – option names to parse, such as <code class="docutils literal notranslate"><span class="pre">-a</span></code> . An option must have suffix <code class="docutils literal notranslate"><span class="pre">:</span></code> such as <code class="docutils literal notranslate"><span class="pre">-a:</span></code> if the option requires a value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[table:successfully parsed options, table:rest values]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.comp_state">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">comp_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">values</span></em>, <em class="sig-param"><span class="pre">pos</span></em>, <em class="sig-param"><span class="pre">option</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">option</span></em>, <em class="sig-param"><span class="pre">option</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.comp_state" title="Link to this definition">¶</a></dt>
<dd><p>Creates a list of completion candidates and analyzes a completion state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>) – the list of arguments, such as <code class="docutils literal notranslate"><span class="pre">{&quot;-a&quot;,</span> <span class="pre">&quot;-b&quot;,</span> <span class="pre">&quot;action&quot;}</span></code></p></li>
<li><p><strong>pos</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the position in <code class="docutils literal notranslate"><span class="pre">values</span></code> that is pointed by the cursor.</p></li>
<li><p><strong>option</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>) – option definitions</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[string:a completion state, table:a list of completion candidates]</p>
</dd>
</dl>
</dd></dl>

<p>These functions are used for implementing completion functions and analyzing options.</p>
<p><a class="reference internal" href="#icebergsupport.comp_state" title="icebergsupport.comp_state"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.comp_state()</span></code></a> is used in completion functions like the following:</p>
<blockquote>
<div><div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="kr">function</span><span class="p">(</span><span class="nv">values</span><span class="p">,</span><span class="w"> </span><span class="nv">pos</span><span class="p">)</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">state</span><span class="p">,</span><span class="w"> </span><span class="nv">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ibs</span><span class="p">.</span><span class="nf">comp_state</span><span class="p">(</span><span class="nv">values</span><span class="p">,</span><span class="w"> </span><span class="nv">pos</span><span class="p">,</span>
<span class="w">    </span><span class="p">{</span><span class="nv">opt</span><span class="o">=</span><span class="s2">&quot;-a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;a option&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;aaa&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nv">opt</span><span class="o">=</span><span class="s2">&quot;--abcd&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;a option&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nv">opt</span><span class="o">=</span><span class="s2">&quot;--aefg&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;a option&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nv">opt</span><span class="o">=</span><span class="s2">&quot;-b&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;b option&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nv">opt</span><span class="o">=</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;b option&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;-a&quot;</span><span class="p">}}</span>
<span class="w">  </span><span class="p">)</span>
<span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;aaa&quot;</span><span class="w"> </span><span class="kr">then</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;file1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;file2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;file3&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;opt&quot;</span><span class="w"> </span><span class="kr">then</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">opts</span>
<span class="w">  </span><span class="kr">else</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;action1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;action2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;action3&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
</div></blockquote>
<p>An option definition consists of</p>
<dl class="field-list simple">
<dt class="field-odd">opt<span class="colon">:</span></dt>
<dd class="field-odd"><p>An option name. This must start with <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
</dd>
<dt class="field-even">description<span class="colon">:</span></dt>
<dd class="field-even"><p>A description for this option.</p>
</dd>
<dt class="field-odd">state<span class="colon">:</span></dt>
<dd class="field-odd"><p>A state name when this option is selected. If the input box value is <code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">-a</span> <span class="pre">A</span></code> and now the cursor is just after <code class="docutils literal notranslate"><span class="pre">A</span></code>, the state name is <code class="docutils literal notranslate"><span class="pre">aaa</span></code> in above example.</p>
</dd>
<dt class="field-even">exclude<span class="colon">:</span></dt>
<dd class="field-even"><p>Options that cannot be specified if this option is specified. In above example, <code class="docutils literal notranslate"><span class="pre">-c</span></code> will not be included in completion candidates if <code class="docutils literal notranslate"><span class="pre">-a</span></code> is specified.</p>
</dd>
</dl>
<p>In addition, the input box value is <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">-</span></code> and now the cursor is just after the <code class="docutils literal notranslate"><span class="pre">-</span></code>, the state name is special value <code class="docutils literal notranslate"><span class="pre">&quot;opt&quot;</span></code> .</p>
<p><a class="reference internal" href="#icebergsupport.getopts" title="icebergsupport.getopts"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.getopts()</span></code></a> is used in command functions like the following:</p>
<blockquote>
<div><div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="kr">function</span><span class="p">(</span><span class="nv">a</span><span class="p">)</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">opts</span><span class="p">,</span><span class="w"> </span><span class="nv">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ibs</span><span class="p">.</span><span class="nf">getopts</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-a:&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-c&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">opts</span><span class="p">.</span><span class="py">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="kr">then</span>
<span class="w">    </span><span class="nv">ibs</span><span class="p">.</span><span class="nf">message</span><span class="p">(</span><span class="s2">&quot;-a must not be empty.&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="kr">else</span>
<span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">opt</span><span class="p">.</span><span class="py">b</span><span class="w"> </span><span class="kr">then</span>
<span class="w">      </span><span class="nv">ibs</span><span class="p">.</span><span class="nf">shell_execute</span><span class="p">(</span><span class="nv">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">      </span><span class="c1">-- blah blah blah</span>
<span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">opt</span><span class="p">.</span><span class="py">c</span><span class="w"> </span><span class="kr">then</span>
<span class="w">      </span><span class="c1">-- blah blah blah</span>
<span class="w">    </span><span class="kr">end</span>
<span class="w">  </span><span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">opts</span></code> is a table with keys that are an option name without <code class="docutils literal notranslate"><span class="pre">-</span></code> prefix. If the option has a <code class="docutils literal notranslate"><span class="pre">:</span></code> suffix, the next argument will be evaluated as a value. Unknown options are stored in <code class="docutils literal notranslate"><span class="pre">args</span></code> .</p>
<p>In above example, If <code class="docutils literal notranslate"><span class="pre">a</span></code> is <code class="docutils literal notranslate"><span class="pre">{&quot;-a&quot;,</span> <span class="pre">&quot;file1&quot;,</span> <span class="pre">&quot;-b&quot;,</span> <span class="pre">&quot;action&quot;,</span> <span class="pre">&quot;parameter&quot;}</span></code>, <code class="docutils literal notranslate"><span class="pre">getopts</span></code> returns <code class="docutils literal notranslate"><span class="pre">opts.a</span> <span class="pre">=</span> <span class="pre">&quot;file1&quot;;</span> <span class="pre">opts.b</span> <span class="pre">=</span> <span class="pre">true;</span> <span class="pre">args</span> <span class="pre">=</span> <span class="pre">{&quot;action&quot;,</span> <span class="pre">&quot;parameter&quot;}</span></code> .</p>
</section>
<section id="iceberg-operations">
<h3>iceberg operations<a class="headerlink" href="#iceberg-operations" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.version">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.version" title="Link to this definition">¶</a></dt>
<dd><p>Returns a version string of iceberg.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.hide_application">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">hide_application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.hide_application" title="Link to this definition">¶</a></dt>
<dd><p>Hides all windows of iceberg.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.show_application">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">show_application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.show_application" title="Link to this definition">¶</a></dt>
<dd><p>Shows iceberg.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.do_autocomplete">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">do_autocomplete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.do_autocomplete" title="Link to this definition">¶</a></dt>
<dd><p>Runs the autocompletion.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.get_cwd">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">get_cwd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.get_cwd" title="Link to this definition">¶</a></dt>
<dd><p>Returns the current working directory of iceberg.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.set_cwd">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">set_cwd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.set_cwd" title="Link to this definition">¶</a></dt>
<dd><p>Changes the current working directory of iceberg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the directory path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise, string:an error message]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.set_result_text">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">set_result_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.set_result_text" title="Link to this definition">¶</a></dt>
<dd><p>Sets <code class="docutils literal notranslate"><span class="pre">text</span></code> to the input box as a message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the message</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.find_command">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">find_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.find_command" title="Link to this definition">¶</a></dt>
<dd><p>Tries to find a command and returns the command as a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the name of the command</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>[bool:true if the command is found, false otherwise. , table or string:a table if the command is found, an error message otherwise]</p>
<p>table consists of</p>
<dl class="field-list simple">
<dt class="field-odd">name<span class="colon">:</span></dt>
<dd class="field-odd"><p>a command name</p>
</dd>
<dt class="field-even">path<span class="colon">:</span></dt>
<dd class="field-even"><p>a command path. This is a <code class="docutils literal notranslate"><span class="pre">string</span></code> or a <code class="docutils literal notranslate"><span class="pre">function</span></code></p>
</dd>
<dt class="field-odd">cmdpath<span class="colon">:</span></dt>
<dd class="field-odd"><p>a command path without arguments</p>
</dd>
<dt class="field-even">workdir<span class="colon">:</span></dt>
<dd class="field-even"><p>a directory that will be used as the current directory</p>
</dd>
<dt class="field-odd">description<span class="colon">:</span></dt>
<dd class="field-odd"><p>a description</p>
</dd>
<dt class="field-even">icon<span class="colon">:</span></dt>
<dd class="field-even"><p>an icon path</p>
</dd>
<dt class="field-odd">terminal<span class="colon">:</span></dt>
<dd class="field-odd"><p>whether this command must be run in the terminal( <code class="docutils literal notranslate"><span class="pre">&quot;yes&quot;</span></code> , <code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code>  or <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> )</p>
</dd>
<dt class="field-even">history<span class="colon">:</span></dt>
<dd class="field-even"><p>whether this command is added to the history.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.to_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">to_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.to_path" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">text</span></code> if <code class="docutils literal notranslate"><span class="pre">text</span></code> is a path, otherwise tries to find a command named <code class="docutils literal notranslate"><span class="pre">text</span></code> and returns <code class="docutils literal notranslate"><span class="pre">path</span></code> of the command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise. , string: a path if no errors, an error message otherwise]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.to_directory_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">to_directory_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.to_directory_path" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">text</span></code> if <code class="docutils literal notranslate"><span class="pre">text</span></code> is a path, otherwise tries to find a command named <code class="docutils literal notranslate"><span class="pre">text</span></code> and returns <code class="docutils literal notranslate"><span class="pre">path</span></code> of the command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise. , string: a path if no errors, an error message otherwise]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.message">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.message" title="Link to this definition">¶</a></dt>
<dd><p>Shows a popup message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the message</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.event_key">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">event_key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.event_key" title="Link to this definition">¶</a></dt>
<dd><p>Returns a number corresponds to the current GUI event.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.event_state">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">event_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.event_state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a number that is a bitfield of what modifier keys were on during the most recent GUI event. This bitfield consists of <code class="xref lua lua-data docutils literal notranslate"><span class="pre">icebergsupport.EVENT_STATE_*</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.matches_key">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">matches_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.matches_key" title="Link to this definition">¶</a></dt>
<dd><p>Returns true if event <code class="docutils literal notranslate"><span class="pre">key</span></code> is held, false otherwise. <code class="docutils literal notranslate"><span class="pre">key</span></code> is a string such as <code class="docutils literal notranslate"><span class="pre">ctrl-a</span></code> and <code class="docutils literal notranslate"><span class="pre">ctrl-alt-space</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.exit_application">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">exit_application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.exit_application" title="Link to this definition">¶</a></dt>
<dd><p>Shuts iceberg down.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.reboot_application">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">reboot_application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.reboot_application" title="Link to this definition">¶</a></dt>
<dd><p>Reboots iceberg.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.scan_search_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">scan_search_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">category</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.scan_search_path" title="Link to this definition">¶</a></dt>
<dd><p>Scans the search path that belongs to <code class="docutils literal notranslate"><span class="pre">category</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>category</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.get_input_text">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">get_input_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.get_input_text" title="Link to this definition">¶</a></dt>
<dd><p>Returns a value of the input box.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.set_input_text">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">set_input_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.set_input_text" title="Link to this definition">¶</a></dt>
<dd><p>Sets <code class="docutils literal notranslate"><span class="pre">text</span></code> to the input box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.get_input_text_values">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">get_input_text_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.get_input_text_values" title="Link to this definition">¶</a></dt>
<dd><p>Parses the value of the input box and returns a list of strings. This function parses a text that is shown in the input box, so if you want to parse a value including an autocompleted text, you have to call <a class="reference internal" href="#icebergsupport.do_autocomplete" title="icebergsupport.do_autocomplete"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.do_autocomplete()</span></code></a> before calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>table</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.get_clipboard">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">get_clipboard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.get_clipboard" title="Link to this definition">¶</a></dt>
<dd><p>Returns the content of the clipboard.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.set_clipboard">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">set_clipboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.set_clipboard" title="Link to this definition">¶</a></dt>
<dd><p>Sets <code class="docutils literal notranslate"><span class="pre">text</span></code> to the clipboard</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.get_clipboard_histories">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">get_clipboard_histories</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.get_clipboard_histories" title="Link to this definition">¶</a></dt>
<dd><p>Returns the list of the clipboard histories.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>table</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.selected_index">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">selected_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.selected_index" title="Link to this definition">¶</a></dt>
<dd><p>Returns the index of the selected completion candidate. An index starts at 1(not 0). 0 means no selection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.command_execute">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">command_execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">args</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.command_execute" title="Link to this definition">¶</a></dt>
<dd><p>Runs the command named <code class="docutils literal notranslate"><span class="pre">name</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p></li>
<li><p><strong>args</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">[string]</span></code></span>) – a list of arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise. , string:an error message]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.default_after_command_action">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">default_after_command_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">success</span></em>, <em class="sig-param"><span class="pre">message</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.default_after_command_action" title="Link to this definition">¶</a></dt>
<dd><p>Make the default behavior after the command execution. If <code class="docutils literal notranslate"><span class="pre">success</span></code> is true, this function clears the input box and hides all iceberg windows, otherwise shows <code class="docutils literal notranslate"><span class="pre">message</span></code> using the popup window. Typically, this function is used in combination with <a class="reference internal" href="#icebergsupport.command_execute" title="icebergsupport.command_execute"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.command_execute()</span></code></a> such as <code class="docutils literal notranslate"><span class="pre">icebergsupport.default_after_command_action(icebergsupport.command_execute(&quot;cmd&quot;,</span> <span class="pre">{&quot;arg0&quot;,</span> <span class="pre">&quot;arg1&quot;}))</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>success</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – whether the command was succeeded</p></li>
<li><p><strong>message</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.add_history">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">add_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">input</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">name</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.add_history" title="Link to this definition">¶</a></dt>
<dd><p>Adds <code class="docutils literal notranslate"><span class="pre">input</span></code> to the last of the history. If you want to add a command that is registered with iceberg, pass the command name as <code class="docutils literal notranslate"><span class="pre">name</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the text to be added to the history(including all arguments)</p></li>
<li><p><strong>name</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – a command name if <code class="docutils literal notranslate"><span class="pre">input</span></code> is registered with iceberg, nil otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.open_dir">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">open_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.open_dir" title="Link to this definition">¶</a></dt>
<dd><p>Opens <code class="docutils literal notranslate"><span class="pre">path</span></code> with the application <code class="docutils literal notranslate"><span class="pre">system.file_browser</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the directory path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise. , string:an error message]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.group_command">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">group_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">command</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">commmand</span></em>, <em class="sig-param"><span class="pre">command</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.group_command" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new command that executes several commands in sequence. Each commands are run by <a class="reference internal" href="#icebergsupport.command_execute" title="icebergsupport.command_execute"><code class="xref lua lua-func docutils literal notranslate"><span class="pre">icebergsupport.command_execute()</span></code></a>, so commands must be registered with iceberg.</p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="nv">group_sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ibs</span><span class="p">.</span><span class="nf">group_command</span><span class="p">({</span><span class="s2">&quot;userdir&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{}},</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;np&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{}}),</span><span class="w"> </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;runs a group of commands&quot;</span><span class="p">},</span>
</pre></div>
</div>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.bind_key">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">bind_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">key</span></em>, <em class="sig-param"><span class="pre">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.bind_key" title="Link to this definition">¶</a></dt>
<dd><p>Executes <code class="docutils literal notranslate"><span class="pre">func</span></code> when <code class="docutils literal notranslate"><span class="pre">key</span></code> is pressed. This function is used in the <code class="docutils literal notranslate"><span class="pre">on_key_down</span></code> callback function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the string such as <code class="docutils literal notranslate"><span class="pre">ctrl-m</span></code></p></li>
<li><p><strong>func</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">function</span></code></span>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.is_modifier_pressed">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">is_modifier_pressed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">keycode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.is_modifier_pressed" title="Link to this definition">¶</a></dt>
<dd><p>Returns true if modifier keys <code class="docutils literal notranslate"><span class="pre">keycode</span></code> are pressed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keycode</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the bitwise or of the <code class="xref lua lua-data docutils literal notranslate"><span class="pre">icebergsupport.EVENT_STATE_*</span></code> constants</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="miscs">
<h3>Miscs<a class="headerlink" href="#miscs" title="Link to this heading">¶</a></h3>
<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.dump_lua_object">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">dump_lua_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">object</span></em>, <em class="sig-param"><span class="pre">indent</span></em>, <em class="sig-param"><span class="pre">isarrayval</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.dump_lua_object" title="Link to this definition">¶</a></dt>
<dd><p>Converts <code class="docutils literal notranslate"><span class="pre">object</span></code> to a string that can be interpreted as a Lua code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">object</span></code></span>)</p></li>
<li><p><strong>indent</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the indent level of the result, this must be 0</p></li>
<li><p><strong>isarrayval</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – pass <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">object</span></code> is an array</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.load_lua_object">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">load_lua_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.load_lua_object" title="Link to this definition">¶</a></dt>
<dd><p>Parses <code class="docutils literal notranslate"><span class="pre">text</span></code> as a lua code and returns a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[bool:true if no errors, false otherwise, table or string: a table if no errors, an error message otherwise]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.grep">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">grep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em>, <em class="sig-param"><span class="pre">pattern</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">flags</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.grep" title="Link to this definition">¶</a></dt>
<dd><p>Returns the lines of <code class="docutils literal notranslate"><span class="pre">text</span></code> that include a regular expression <code class="docutils literal notranslate"><span class="pre">pattern</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p></li>
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[string]</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.is_array">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">is_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">table</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.is_array" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">table</span></code> is an array. <code class="docutils literal notranslate"><span class="pre">table</span></code> is considered as an array if all indecies are a positive number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.merge_table">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">merge_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">table</span></em><span class="optional">[</span>, <em class="sig-param"><span class="pre">obj</span></em>, <em class="sig-param"><span class="pre">obj</span> <span class="pre">...</span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.merge_table" title="Link to this definition">¶</a></dt>
<dd><p>Merges multiple tables into the first <code class="docutils literal notranslate"><span class="pre">table</span></code> . Elements will be appended after the last element of <code class="docutils literal notranslate"><span class="pre">table</span></code> if <code class="docutils literal notranslate"><span class="pre">table</span></code> is a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>)</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="icebergsupport.table_find">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">icebergsupport.</span></span><span class="sig-name descname"><span class="pre">table_find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">table</span></em>, <em class="sig-param"><span class="pre">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#icebergsupport.table_find" title="Link to this definition">¶</a></dt>
<dd><p>Returns the lowest index in the <code class="docutils literal notranslate"><span class="pre">table</span></code> where the <code class="docutils literal notranslate"><span class="pre">obj</span></code> is found. Returns 0 if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">table</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="windows-support-functions">
<h2>Windows support functions<a class="headerlink" href="#windows-support-functions" title="Link to this heading">¶</a></h2>
<dl class="lua function">
<dt class="sig sig-object lua" id="winsupport.foreground_explorer">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">winsupport.</span></span><span class="sig-name descname"><span class="pre">foreground_explorer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#winsupport.foreground_explorer" title="Link to this definition">¶</a></dt>
<dd><p>Returns information of the foreground explorer.exe</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>{path= a path of the explorer, selected={a list of the selected file names}}</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="winsupport.foreground_explorer_path">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">winsupport.</span></span><span class="sig-name descname"><span class="pre">foreground_explorer_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#winsupport.foreground_explorer_path" title="Link to this definition">¶</a></dt>
<dd><p>Returns a path of the foreground explorer.exe. When no explorer exists, returns an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<dl class="lua class">
<dt class="sig sig-object lua" id="Regex.new">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Regex.new</span></span><a class="headerlink" href="#Regex.new" title="Link to this definition">¶</a></dt>
<dd><p>A regular expression object that handles UTF-8 strings correctly. This object is used in <code class="docutils literal notranslate"><span class="pre">icebergsupport.regex_*</span></code> functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>) – the regular expression that can be used in the Oniguruma</p></li>
<li><p><strong>flags</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>) – the regular expression flags(Regex.NONE or a bitwise or of the Regex.S,M and I)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua attribute">
<dt class="sig sig-object lua" id="Regex.NONE">
<span class="sig-name descname"><span class="pre">Regex.NONE</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#Regex.NONE" title="Link to this definition">¶</a></dt>
<dd><p>A regular expression flag that means no flags are set.</p>
</dd></dl>

<dl class="lua attribute">
<dt class="sig sig-object lua" id="Regex.S">
<span class="sig-name descname"><span class="pre">Regex.S</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#Regex.S" title="Link to this definition">¶</a></dt>
<dd><p>A regular expression flag that is equivalent to the Perl’s s flag.</p>
</dd></dl>

<dl class="lua attribute">
<dt class="sig sig-object lua" id="Regex.M">
<span class="sig-name descname"><span class="pre">Regex.M</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#Regex.M" title="Link to this definition">¶</a></dt>
<dd><p>A regular expression flag that is equivalent to the Perl’s m flag.</p>
</dd></dl>

<dl class="lua attribute">
<dt class="sig sig-object lua" id="Regex.I">
<span class="sig-name descname"><span class="pre">Regex.I</span></span><em class="property"><span class="pre">:</span> </em><span class="pre">None</span><a class="headerlink" href="#Regex.I" title="Link to this definition">¶</a></dt>
<dd><p>A regular expression flag that is equivalent to the Perl’s i flag.</p>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua" id="Regex.escape">
<em class="property"> </em><span class="sig-prename descclassname"><span class="pre">Regex.</span></span><span class="sig-name descname"><span class="pre">escape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Regex.escape" title="Link to this definition">¶</a></dt>
<dd><p>Escapes all meta characters in <code class="docutils literal notranslate"><span class="pre">text</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">string</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua">
<span class="sig-name descname"><span class="pre">Regex:_1()</span></span></dt>
<dd><p>Returns the subgroup string of the match.</p>
<p><code class="docutils literal notranslate"><span class="pre">Regex:_1()</span></code> , <code class="docutils literal notranslate"><span class="pre">Regex:_2()</span></code> … <code class="docutils literal notranslate"><span class="pre">Regex:_9()</span></code> are defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua">
<span class="sig-name descname"><span class="pre">Regex:group(group)</span></span></dt>
<dd><p>Returns the subgroup string of the match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua">
<span class="sig-name descname"><span class="pre">Regex:startpos(group)</span></span></dt>
<dd><p>Returns the index of the start of the substring matched by <code class="docutils literal notranslate"><span class="pre">group</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

<dl class="lua function">
<dt class="sig sig-object lua">
<span class="sig-name descname"><span class="pre">Regex:endpos(group)</span></span></dt>
<dd><p>Returns the index of the end of the substring matched by <code class="docutils literal notranslate"><span class="pre">group</span></code> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>group</strong> (<span><code class="xref lua lua-class docutils literal notranslate"><span class="pre">number</span></code></span>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="Bottom">
      
        <p>
        «&#160;&#160;<a href="tips.html">Tips</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="plugin.html">Plugins</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2012-2025, Yusuke Inuzuka.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>